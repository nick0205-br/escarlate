{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lopes Corp one\\\\Documents\\\\c\\xF3digos n\\\\Escarlate-TCC\\\\site\\\\src\\\\pages\\\\Carrinho\\\\Carrinho.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport '../../Common.scss';\nimport './carrinho.scss';\nimport Storage from 'local-storage';\nimport { toast, ToastContainer } from 'react-toastify';\nimport { buscarPorId } from \"../../api/adminAPI\";\nimport CarrinhoItem from \"../Components/Usuario/carrinhoitem/carrinhoitem\";\nimport BotaoADM from '../Components/Adm/Button/index';\nimport Rodape from '../Components/Usuario/Rodape';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Carrinho() {\n  _s();\n\n  const [itens, setItens] = useState([]);\n  const navigate = useNavigate();\n\n  async function carregarCarrinho() {\n    try {\n      let carrinho = Storage('carrinho');\n\n      if (carrinho) {\n        let temp = [];\n\n        for (let produto of carrinho) {\n          let p = await buscarPorId(produto.id);\n          temp.push({\n            produto: p,\n            quantidade: produto.quantidade\n          });\n        }\n\n        setItens(temp);\n      }\n    } catch (err) {}\n  }\n\n  function EnderecoClick() {\n    if (Storage('carrinho')) {\n      navigate('/Endereco');\n    } else if (!Storage('carrinho')) {\n      toast.error('É necessario adicionar um item ao carrinho');\n    }\n  }\n\n  function removerItem(id) {\n    let carrinho = Storage('carrinho');\n    carrinho = carrinho.filter(item => item.id != id);\n    Storage('carrinho', carrinho);\n    carregarCarrinho();\n  }\n\n  let total = 0;\n\n  function carregarValorTotal() {\n    for (let item of itens) {\n      total = total + item.produto.info.preco * item.quantidade;\n    }\n\n    return total;\n  }\n\n  useEffect(() => {\n    carregarCarrinho();\n  }, []);\n\n  function pegarPreco() {\n    const preco = {\n      \"preco\": total\n    };\n    Storage(\"preco\", preco);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"corzinha-cart \",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sub-header-1\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/feed\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: '../../../../assets/images/Group 1.png',\n            className: \"logo-header-conf\",\n            alt: \"img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"nome-page\",\n          children: \"Carrinho de Compras\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/MinhaConta\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sub-header-2\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: '../../../../assets/images/user.png',\n            className: \"conf-img-header\",\n            alt: \"img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 14\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-cart\",\n      children: [itens.map(item => /*#__PURE__*/_jsxDEV(CarrinhoItem, {\n        item: item,\n        removerItem: removerItem,\n        carregarCarrinho: carregarCarrinho()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }, this)), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"align-itens-row-total-itens\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"align-itens-column-total-itens\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              fontFamily: 'Arya-Regular',\n              color: \"#ffff\",\n              fontWeight: \"100\"\n            },\n            children: \"Total de itens\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontFamily: 'Arya-Regular',\n              color: \"#ffff\",\n              fontWeight: \"100\"\n            },\n            children: [itens.length, \" itens\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"align-itens-column-total-itens\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              fontFamily: 'Arya-Regular',\n              color: \"#ffff\",\n              fontWeight: \"100\"\n            },\n            children: \"Valor total:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontFamily: 'Arya-Regular',\n              color: \"#ffff\",\n              fontWeight: \"100\"\n            },\n            children: [\"R$ \", carregarValorTotal()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: EnderecoClick,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: pegarPreco,\n            children: /*#__PURE__*/_jsxDEV(BotaoADM, {\n              nome: \"Continuar Pedido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 2\n  }, this);\n}\n\n_s(Carrinho, \"s9PLJR9N7crcLMMC+VlQJcrL4/4=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Carrinho;\n\nvar _c;\n\n$RefreshReg$(_c, \"Carrinho\");","map":{"version":3,"names":["useEffect","useState","Link","useNavigate","Storage","toast","ToastContainer","buscarPorId","CarrinhoItem","BotaoADM","Rodape","Carrinho","itens","setItens","navigate","carregarCarrinho","carrinho","temp","produto","p","id","push","quantidade","err","EnderecoClick","error","removerItem","filter","item","total","carregarValorTotal","info","preco","pegarPreco","map","fontFamily","color","fontWeight","length"],"sources":["C:/Users/Lopes Corp one/Documents/códigos n/Escarlate-TCC/site/src/pages/Carrinho/Carrinho.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport '../../Common.scss' \nimport './carrinho.scss'\nimport Storage from 'local-storage'\nimport {toast, ToastContainer} from 'react-toastify';\nimport { buscarPorId } from \"../../api/adminAPI\";\nimport CarrinhoItem from \"../Components/Usuario/carrinhoitem/carrinhoitem\";\nimport BotaoADM from '../Components/Adm/Button/index'\nimport Rodape from '../Components/Usuario/Rodape'\nexport default function Carrinho(){\n\n  const [itens, setItens] = useState([]);\n\n  const navigate = useNavigate();\n\n  async function carregarCarrinho(){\n    try {\n      let carrinho = Storage('carrinho');\n    if(carrinho) {\n\n      let temp = [];\n\n      for(let produto of carrinho){\n        let p = await buscarPorId(produto.id);\n\n        temp.push( {\n          produto: p,\n          quantidade: produto.quantidade\n        })\n      }\n      setItens(temp);\n    }\n   \n    } catch (err) {\n      \n    }\n  }\n\n  function EnderecoClick(){\n    if(Storage('carrinho')){\n      navigate('/Endereco')\n    }\n    else if (!Storage('carrinho')) {\n      toast.error('É necessario adicionar um item ao carrinho')\n  }\n  }\n\n  function removerItem(id){\n    let carrinho = Storage('carrinho');\n    carrinho = carrinho.filter(item => item.id != id);\n\n    Storage('carrinho', carrinho);\n    carregarCarrinho();\n  }\n\n  let total = 0;\n  function carregarValorTotal(){\n    for (let item of itens){\n      total = total + item.produto.info.preco * item.quantidade;    \n    }\n    return total;\n  }\n \n  useEffect(() => {\n      carregarCarrinho();\n  }, [])\n\n  function pegarPreco() {\n    const preco = {\n      \"preco\": total\n    }\n    Storage(\"preco\", preco)\n    \n  }\n\nreturn(\n <main className=\"corzinha-cart \">\n  <ToastContainer/>\n    <header className=\"header\">\n    <div className='sub-header-1'>\n        <Link to='/feed'>\n        <img src={'../../../../assets/images/Group 1.png'} className='logo-header-conf' alt=\"img\"/>\n        </Link>\n\n             <h2 className='nome-page'>Carrinho de Compras</h2>\n             </div>   \n             <div>\n            \n             </div>\n             <Link to='/MinhaConta'>\n             <div className='sub-header-2'>\n                <img src={'../../../../assets/images/user.png'} className='conf-img-header' alt=\"img\"/>\n             </div>\n             </Link>\n             \n    </header>\n    <div className=\"main-cart\">\n\n    {itens.map(item => \n      \n      <CarrinhoItem item={item} removerItem={removerItem} carregarCarrinho={carregarCarrinho()}/>\n  )}\n\n    <section className=\"align-itens-row-total-itens\">\n\n    <div className=\"align-itens-column-total-itens\">\n    <h1 style={{fontFamily:'Arya-Regular', color:\"#ffff\", fontWeight:\"100\"}}>Total de itens</h1>\n    <p style={{fontFamily:'Arya-Regular', color:\"#ffff\", fontWeight:\"100\"}}>{itens.length} itens</p>\n    </div>\n\n    <div className=\"align-itens-column-total-itens\">\n    <h1 style={{fontFamily:'Arya-Regular', color:\"#ffff\", fontWeight:\"100\"}}>Valor total:</h1>\n    <p style={{fontFamily:'Arya-Regular', color:\"#ffff\", fontWeight:\"100\"}}>R$ {carregarValorTotal()}</p>\n    </div>\n\n    <div onClick={EnderecoClick}>  \n    <div onClick={pegarPreco}>\n    <BotaoADM nome='Continuar Pedido'/>  \n    </div>\n    </div>\n    </section>\n    </div>\n    \n </main>\n)\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}